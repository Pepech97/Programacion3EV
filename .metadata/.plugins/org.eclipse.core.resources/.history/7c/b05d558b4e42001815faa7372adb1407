import java.util.*;

public class GestionUsuarios {

	public static void main(String[] args) {
		TreeMap<String,String> usuarios = new TreeMap<>();
		boolean usuCorrecto = true;
		String usuario=Leer.pedirCadena("Introduce el usuario:");
		String contraseña=Leer.pedirCadena("Introduce la contraseña:");
		do {
			
			String contracifrada="";
			for (int i = 0; i < contraseña.length(); i++) {
				char charcontra=contraseña.charAt(i);
				if ((charcontra <'a' || charcontra >'z')&&(charcontra<'A' || charcontra>'Z') && (charcontra<'0' || charcontra>'9')) {
					usuCorrecto=false;
				}else {
					int charcifrado=(int)charcontra;
					charcontra=(char)(charcifrado+3);
					contracifrada=contracifrada+charcontra;
				}
			}
			if (usuCorrecto==false) {
				contraseña=Leer.pedirCadena("Caracteres incorrectos, introduzca otra contraseña");
			}
			contraseña=contracifrada;
			System.out.println(contracifrada);
		} while (usuCorrecto==false);
		if (usuarios.containsKey(usuario)) {
			System.out.println("El usuario ya existe");
		}
		else{
			usuarios.put(usuario, contraseña);
		}
		
	}

}
